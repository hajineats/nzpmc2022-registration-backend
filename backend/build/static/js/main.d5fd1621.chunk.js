(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{74:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(38),r=a.n(n),s=a(20),i=a.n(s),o=a(21),l=a(15),j=a(76),h=a(75),d=a(42),u=a(77),b=a(41),x=a(79),O=a(0);a.p;var m=a(39),p=a(11),v=function(e){return Object(m.a)(e),Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"my-5 d-flex justify-content-center",children:[Object(O.jsx)(p.b,{to:"/teacher",children:Object(O.jsx)(x.a,{variant:"primary",size:"lg",children:"I'm a Teacher"})}),Object(O.jsx)(p.b,{to:"/student",children:Object(O.jsx)(x.a,{variant:"secondary",className:"ml-3",size:"lg",children:"I'm a Student"})})]})})},f=a(7);function g(){return Object(O.jsxs)("section",{className:"bg-dark text-light p-5 text-center text-sm-start",children:[Object(O.jsx)("div",{className:"container",children:Object(O.jsx)("div",{className:"d-sm-flex align-items-center justify-content-between",children:Object(O.jsxs)("div",{className:"mr-3",children:[Object(O.jsxs)("h1",{children:["Register for",Object(O.jsx)("span",{className:"text-warning",children:" The NZPMC 2022"})]}),Object(O.jsx)("p",{className:"lead my-4",children:"The NZPMC is a nationwide standardised Physics and Mathematics Competition for High School students of all year levels throughout New Zealand."})]})})}),Object(O.jsx)(f.a,{path:"/",children:Object(O.jsx)(v,{})})]})}var y=a(27),N=a(6),C=a(17),w=a.n(C),S=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=w.a.post("/api/teachers/csv",{teacherCode:t}),c=a.then((function(e){return e.data})),e.abrupt("return",c);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function T(){var e,t=Object(c.useState)({}),a=Object(l.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(!1),i=Object(l.a)(s,2),o=i[0],j=i[1],d=Object(f.f)(),u=function(e){return function(t){var a=n;a[e]=t.target.value,r(a)}};function b(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(N.a.Group,{children:[Object(O.jsx)(N.a.Label,{children:"Name"}),Object(O.jsx)(N.a.Control,{onChange:u("name"),type:"text",placeholder:"Enter your full name",required:!0})]}),Object(O.jsxs)(N.a.Group,{children:[Object(O.jsx)(N.a.Label,{children:"Email"}),Object(O.jsx)(N.a.Control,{onChange:u("email"),type:"email",placeholder:"eg. contact.nzpmc@gmail.com",required:!0})]}),Object(O.jsxs)(N.a.Group,{children:[Object(O.jsx)(N.a.Label,{children:"School Name"}),Object(O.jsx)(N.a.Control,{onChange:u("schoolName"),type:"text",placeholder:"Enter the school name",required:!0})]}),Object(O.jsxs)(N.a.Group,{children:[Object(O.jsx)(N.a.Label,{children:"School Address"}),Object(O.jsx)(N.a.Control,{onChange:u("schoolAddress"),type:"text",placeholder:"Enter the school address",required:!0})]}),Object(O.jsxs)(N.a.Group,{children:[Object(O.jsx)(N.a.Label,{children:"Teacher Mobile Number"}),Object(O.jsx)(N.a.Control,{onChange:u("phoneNumber"),type:"text",placeholder:"This will be used as a primary emergency contact for second round",required:!0})]}),Object(O.jsx)(N.a.Group,{as:h.a,children:Object(O.jsxs)("div",{children:[Object(O.jsx)(N.a.Label,{children:"I am a..."}),Object(O.jsxs)("select",{onChange:u("teacherCategory"),className:"form-select","aria-label":"select example",required:!0,children:[Object(O.jsx)("option",{value:null,children:"Select..."}),Object(O.jsx)("option",{value:"Physics Teacher",children:"Physics Teacher"}),Object(O.jsx)("option",{value:"Math Teacher",children:"Math Teacher"}),Object(O.jsx)("option",{value:"Other subject teacher",children:"Other subject teacher"}),Object(O.jsx)("option",{value:"Home schooling parent",children:"Home schooling parent"}),Object(O.jsx)("option",{value:"Others",children:"Others"})]})]})}),Object(O.jsx)(N.a.Group,{as:h.a,children:Object(O.jsxs)("div",{children:[Object(O.jsx)(N.a.Label,{children:"My school is in..."}),Object(O.jsxs)("select",{onChange:u("island"),className:"form-select","aria-label":"select example",required:!0,children:[Object(O.jsx)("option",{value:null,children:"Select..."}),Object(O.jsx)("option",{value:"North Island",children:"North Island"}),Object(O.jsx)("option",{value:"South Island",children:"South Island"})]})]})}),Object(O.jsx)(N.a.Group,{as:h.a,children:Object(O.jsxs)("div",{children:[Object(O.jsx)(N.a.Label,{children:"My school is in the city of..."}),Object(O.jsxs)("select",{onChange:u("city"),className:"form-select",required:!0,children:[Object(O.jsx)("option",{value:null,children:"Select..."}),Object(O.jsx)("option",{value:"Auckland",children:"Auckland"}),Object(O.jsx)("option",{value:"Bay of Plenty",children:"Bay of Plenty"}),Object(O.jsx)("option",{value:"Canterbury",children:"Canterbury"}),Object(O.jsx)("option",{value:"Gisborne",children:"Gisborne"}),Object(O.jsx)("option",{value:"Hawke's Bay",children:"Hawke's Bay"}),Object(O.jsx)("option",{value:"Marlborough",children:"Marlborough"}),Object(O.jsx)("option",{value:"Nelson - Tasman",children:"Nelson - Tasman"}),Object(O.jsx)("option",{value:"Northland",children:"Northland"}),Object(O.jsx)("option",{value:"Otago",children:"Otago"}),Object(O.jsx)("option",{value:"Southland",children:"Southland"}),Object(O.jsx)("option",{value:"Taranaki",children:"Taranaki"}),Object(O.jsx)("option",{value:"Waikato",children:"Waikato"}),Object(O.jsx)("option",{value:"Wellington",children:"Wellington"}),Object(O.jsx)("option",{value:"West Coast",children:"West Coast"}),Object(O.jsx)("option",{value:"Whanganui - Manawatu",children:"Whanganui - Manawatu"})]})]})})]})}return Object(O.jsxs)(N.a,{className:"mt-5",onSubmit:function(e){e.preventDefault(),j(!0),function(e){return w.a.post("/api/teachers",e).then((function(e){return e.data}))}(n).then((function(e){d.push("/ThankYou/".concat(e._id))})).catch((function(e){e.response&&alert(e.response.data.error),j(!1)}))},children:[Object(O.jsx)("h3",{children:"Teacher Registration"}),Object(O.jsxs)("p",{className:"my-3",children:["You will receive a teacher code after registration. ",Object(O.jsx)("strong",{children:"It is important that you don't lose this, as you won't be able to retrieve it once it is lost."})," Your students will use this code to register. In addition, you can use this code to download csv of all the registered students so far on the homepage of this website."]}),Object(O.jsxs)("p",{className:"my-3",children:["We prefer that only ",Object(O.jsx)("strong",{children:"one"})," teacher per school registers, so that we have one point of contact regarding payment and competition. In this case, a teacher that registered can share their teacher code to other teachers."]}),Object(O.jsx)(b,{}),o?Object(O.jsx)("span",{children:"Loading"}):Object(O.jsxs)("div",{children:[Object(O.jsx)(x.a,(e={type:"submit",variant:"primary"},Object(y.a)(e,"type","submit"),Object(y.a)(e,"children","Submit"),e)),Object(O.jsx)(p.b,{to:"/",children:Object(O.jsx)(x.a,{className:"ml-3",variant:"secondary",children:"Back"})})]})]})}function k(){var e=Object(c.useState)({}),t=Object(l.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(!1),s=Object(l.a)(r,2),i=s[0],o=s[1],j=Object(f.f)(),u=function(e){return function(t){var c=a;c[e]=t.target.value,n(c),console.log(a)}};function b(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(N.a.Group,{as:h.a,className:"my-3",children:[Object(O.jsx)(N.a.Label,{column:!0,sm:"2",children:"Teacher Code"}),Object(O.jsx)(d.a,{sm:"10",children:Object(O.jsx)(N.a.Control,{onChange:u("teacher"),type:"text",placeholder:"Your teacher received this when they registered",required:!0})})]}),Object(O.jsxs)(h.a,{children:[Object(O.jsxs)(N.a.Group,{as:d.a,children:[Object(O.jsx)(N.a.Label,{children:"First Name"}),Object(O.jsx)(N.a.Control,{onChange:u("firstName"),type:"text",required:!0})]}),Object(O.jsxs)(N.a.Group,{as:d.a,children:[Object(O.jsx)(N.a.Label,{children:"Middle Name (Optional)"}),Object(O.jsx)(N.a.Control,{onChange:u("middleName"),type:"text"})]}),Object(O.jsxs)(N.a.Group,{as:d.a,children:[Object(O.jsx)(N.a.Label,{children:"Surname"}),Object(O.jsx)(N.a.Control,{onChange:u("surname"),type:"text",required:!0})]})]}),Object(O.jsx)(h.a,{children:Object(O.jsxs)(N.a.Group,{children:[Object(O.jsx)(N.a.Label,{children:"Email"}),Object(O.jsx)(N.a.Control,{onChange:u("email"),type:"email",placeholder:"eg. student.nzpmc@gmail.com",required:!0})]})}),Object(O.jsx)(N.a.Group,{as:h.a,children:Object(O.jsxs)("div",{children:[Object(O.jsx)(N.a.Label,{children:"Year Level"}),Object(O.jsxs)("select",{onChange:u("yearLevel"),className:"form-select","aria-label":"select example",required:!0,children:[Object(O.jsx)("option",{value:null,children:"Select..."}),Object(O.jsx)("option",{value:"8",children:"Below Year 9"}),Object(O.jsx)("option",{value:"9",children:"Year 9"}),Object(O.jsx)("option",{value:"10",children:"Year 10"}),Object(O.jsx)("option",{value:"11",children:"Year 11"}),Object(O.jsx)("option",{value:"12",children:"Year 12"}),Object(O.jsx)("option",{value:"13",children:"Year 13"})]})]})}),Object(O.jsx)(N.a.Group,{as:h.a,children:Object(O.jsxs)("div",{children:[Object(O.jsx)(N.a.Label,{children:"How did you hear about us?"}),Object(O.jsxs)("select",{onChange:u("howDidYouHear"),className:"form-select","aria-label":"select example",required:!0,children:[Object(O.jsx)("option",{value:null,children:"Select..."}),Object(O.jsx)("option",{value:"Facebook",children:"Facebook"}),Object(O.jsx)("option",{value:"School",children:"School"}),Object(O.jsx)("option",{value:"Teacher",children:"Teacher"}),Object(O.jsx)("option",{value:"Friend",children:"Friend"}),Object(O.jsx)("option",{value:"Parent",children:"Parent"}),Object(O.jsx)("option",{value:"The NZPMC website",children:"The NZPMC website"}),Object(O.jsx)("option",{value:"Others",children:"Others"})]})]})}),Object(O.jsx)(N.a.Group,{as:h.a,children:Object(O.jsxs)("div",{children:[Object(O.jsx)(N.a.Label,{children:"What motivated you the most to take this competition?"}),Object(O.jsxs)("select",{onChange:u("whatMotivatedYou"),className:"form-select","aria-label":"select example",required:!0,children:[Object(O.jsx)("option",{value:null,children:"Select..."}),Object(O.jsx)("option",{value:"Parents",children:"Parents"}),Object(O.jsx)("option",{value:"Friends",children:"Friends"}),Object(O.jsx)("option",{value:"Teacher/School",children:"Teacher/School"}),Object(O.jsx)("option",{value:"To showcase my academic ability",children:"To showcase my academic ability"}),Object(O.jsx)("option",{value:"To challenge myself",children:"To challenge myself"}),Object(O.jsx)("option",{value:"Prizes",children:"Prizes"}),Object(O.jsx)("option",{value:"It sounded fun",children:"It sounded fun"}),Object(O.jsx)("option",{value:"Others",children:"Others"})]})]})})]})}return Object(O.jsxs)(N.a,{className:"mt-5",onSubmit:function(e){e.preventDefault(),o(!0),function(e){return console.log("details:",e),w.a.post("/api/students",e).then((function(e){return e.data}))}(a).then((function(e){return j.push("/ThankYou/".concat(e.teacher))})).catch((function(e){console.log(e),e.response&&alert(e.response.data.error),o(!1)}))},children:[Object(O.jsx)("h3",{className:"my-3",children:"Student Registration"}),Object(O.jsx)("p",{children:"Students can self-register themselves through this form. They won't be able to self-register unless their teacher registers and gives the students a teacher code."}),Object(O.jsx)("p",{children:"Note that the competition this year is on paid registration basis. Your school will handle payment after registration closes. For more information, refer to the website (https://www.nzpmc.com)."}),Object(O.jsx)(b,{className:"my-3"}),i?Object(O.jsx)("div",{children:"Loading"}):Object(O.jsxs)("div",{children:[Object(O.jsx)(x.a,{type:"submit",children:"Submit"}),Object(O.jsx)(p.b,{to:"/",children:Object(O.jsx)(x.a,{variant:"secondary",className:"ml-3",children:"Back"})})]})]})}var Y=a(78),L=function(e){var t=e.props,a=t.firstName,c=t.middleName,n=t.surname,r=t.email,s=t.yearLevel;t._id;return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(h.a,{className:"py-2 align-items-center",children:[Object(O.jsx)(d.a,{xs:4,children:"".concat(a).concat(c?" ".concat(c):""," ").concat(n)}),Object(O.jsx)(d.a,{xs:4,children:r}),Object(O.jsx)(d.a,{xs:4,children:8==s?"Year 8 or below":"Year "+s})]})})},M=function(e){var t=e.teacher,a=t.email,c=t.name,n=t.schoolAddress,r=t.schoolName,s=t.students,i=t._id;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(j.a,{className:"my-3",children:Object(O.jsxs)(Y.a,{children:[Object(O.jsx)(Y.a.Header,{as:j.a,children:Object(O.jsxs)(j.a,{as:h.a,children:[Object(O.jsxs)(d.a,{xs:8,children:[Object(O.jsx)(h.a,{children:"Teacher: "+c+"("+a+")"}),Object(O.jsx)(h.a,{children:"School: "+r+"("+n+")"}),Object(O.jsx)(h.a,{children:"Teacher Code: "+i})]}),Object(O.jsx)(d.a,{xs:4,children:Object(O.jsxs)(x.a,{className:"ml-2 float-right",onClick:function(){return G([e.teacher])},children:["CSV ","(".concat(s.length," ").concat(s.length<=1?"student":"students",")")]})})]})}),Object(O.jsx)(Y.a.Body,{children:s.map((function(e){return Object(O.jsx)(L,{props:e},e._id.toString())}))})]})})})},G=function(e){var t="StudentFirstName,StudentMiddleName,StudentSurname,StudentEmail,StudentYearLevel,HeardFrom,ReasonForTaking,TeacherCode,";t+="TeacherName,TeacherEmail,SchoolName,SchoolAddress,PhoneNumber,TeacherCategory,Island,City\n",e.forEach((function(e){e.students.forEach((function(a){var c=[a.firstName,a.middleName,a.surname,a.email,a.yearLevel,a.howDidYouHear,a.whatMotivatedYou,a.teacher,e.name,e.email,e.schoolName,e.schoolAddress,e.phoneNumber,e.teacherCategory,e.island,e.city];t+=c.join(","),t+="\n"}))}));var a=document.createElement("a");a.href="data:text/csv;charset=utf-8,"+encodeURI(t),a.target="_blank",a.download="registration.csv",a.click()},F=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),a=t[0],n=t[1];Object(c.useEffect)((function(){w.a.get("/api/teachers").then((function(e){return e.data})).then((function(e){console.log(e),n(e)})).catch((function(e){console.log(e)}))}),[]);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(x.a,{onClick:function(){return G(a)},children:"Generate CSV for all students"}),Object(O.jsx)(O.Fragment,{children:a.map((function(e){return Object(O.jsx)(M,{teacher:e},e._id.toString())}))})]})};function I(){var e=Object(f.g)().id;return Object(O.jsxs)(j.a,{children:[Object(O.jsx)("h3",{className:"my-3",children:"Your registration is now complete."}),e&&Object(O.jsxs)("h5",{className:"my-3",children:["Teacher code: ",e]}),Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:"If you are a teacher, this is the teacher code you can share with your students. Registration confirmation and invoice will be sent after registration closes."}),Object(O.jsx)("li",{children:"If you are a student, this is the teacher code you registered yourself with. Your school/teacher will contact you regarding payment."})]}),Object(O.jsx)("p",{children:"If you have any queries or issues, please email contact.nzpmc@gmail.com."}),Object(O.jsx)(p.b,{to:"/",children:Object(O.jsx)(x.a,{children:"Back to Main Menu"})})]})}var q=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),a=t[0],n=t[1],r=function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S(a);case 3:t=e.sent,G([t]),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Make sure that you have entered a valid teacher code. ");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(O.jsx)("section",{className:"bg-primary text-light p-5",children:Object(O.jsx)(j.a,{children:Object(O.jsxs)(h.a,{className:"align-items-center",children:[Object(O.jsxs)(d.a,{xs:4,children:[Object(O.jsx)("h3",{children:"Teachers:"}),Object(O.jsx)("p",{children:"You can receive csv of your students' registration details by entering your teacher code into this box."})]}),Object(O.jsx)(d.a,{xs:8,children:Object(O.jsxs)(u.a,{className:"mb-3",children:[Object(O.jsx)(b.a,{onChange:function(e){return n(e.target.value)}}),Object(O.jsx)(x.a,{onClick:r,variant:"dark",children:"Generate CSV!"})]})})]})})})},P=function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(g,{}),Object(O.jsx)(f.c,{children:Object(O.jsx)(f.a,{exact:!0,path:"/",children:Object(O.jsx)(q,{})})}),Object(O.jsx)(j.a,{className:"my-3",children:Object(O.jsxs)(f.c,{children:[Object(O.jsx)(f.a,{path:"/student",children:Object(O.jsx)(k,{})}),Object(O.jsx)(f.a,{path:"/teacher",children:Object(O.jsx)(T,{})}),Object(O.jsx)(f.a,{path:"/ThankYou/:id",children:Object(O.jsx)(I,{})}),Object(O.jsx)(f.a,{path:"/Dashboard",children:Object(O.jsx)(F,{})})]})})]})};a(73);r.a.render(Object(O.jsx)(p.a,{children:Object(O.jsx)(P,{})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.d5fd1621.chunk.js.map