(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{73:function(e,t,a){"use strict";a.r(t);var n,c,r,l,s,i,o,j,h,d,b,u,x,O,m,f,p,v,g,y,C=a(0),N=a(19),E=a.n(N),S=a(10),w=a(76),L=a(75),k=a(39),Y=a(77),M=a(40),Z=a(80),H=a(12),T=a(1);function A(){return Object(T.jsx)("nav",{className:"navbar bg-dark navbar-dark",children:Object(T.jsx)("div",{className:"container",children:Object(T.jsx)(H.b,{to:"/",children:Object(T.jsx)("span",{className:"navbar-brand",children:"The NZPMC"})})})})}var G=["title","titleId"];function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function B(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function I(e,t){var a=e.title,N=e.titleId,E=B(e,G);return C.createElement("svg",V({id:"fb44e471-ee16-4d00-b265-ec0e46fd741a","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",width:522.70767,height:519.89075,viewBox:"0 0 522.70767 519.89075",ref:t,"aria-labelledby":N},E),a?C.createElement("title",{id:N},a):null,n||(n=C.createElement("path",{d:"M686.31988,709.94537H367.17724a28.56333,28.56333,0,0,1-28.53107-28.53107V218.5857a28.56333,28.56333,0,0,1,28.53107-28.53107H686.31988A28.56334,28.56334,0,0,1,714.851,218.5857V681.4143A28.56334,28.56334,0,0,1,686.31988,709.94537Z",transform:"translate(-338.64617 -190.05463)",fill:"#3f3d56"})),c||(c=C.createElement("path",{d:"M686.88163,691.74192H366.61549a8.80508,8.80508,0,0,1-8.795-8.795V217.0531a8.80508,8.80508,0,0,1,8.795-8.795H686.88163a8.80508,8.80508,0,0,1,8.795,8.795V682.9469A8.80508,8.80508,0,0,1,686.88163,691.74192Z",transform:"translate(-338.64617 -190.05463)",fill:"#fff"})),r||(r=C.createElement("circle",{cx:186.88883,cy:8.73766,r:2.42713,fill:"#fff"})),l||(l=C.createElement("path",{d:"M612.177,405.28716l-10.6024-31.754-.17933-.55212,44.649-28.203,2.37364,3.19859,12.43482,16.74467-4.54531,13.54319-11.74842,34.9907-.515,1.53794,21.757,16.176c.86226,1.59041,1.57853,3.04024,2.161,4.37279,6.4953,14.80006-3.11917,14.12857-3.11917,14.12857l-44.24883-18.96666Z",transform:"translate(-338.64617 -190.05463)",fill:"#ffb7b7"})),s||(s=C.createElement("path",{d:"M635.60179,411.19848l-1.95073-5.8455-9.57345-28.69551-1.9943-5.98167-1.675-5.00588,21.83164-13.79431,22.81745-14.4087,14.80845,19.94323-4.48818,13.37234-2.18155,6.49743L669.82365,387.33l-6.76651,20.15194,21.75695,16.176a42.20643,42.20643,0,0,1,3.87179,9.14952,14.06581,14.06581,0,0,1,.53247,4.09689,5.01666,5.01666,0,0,1-5.36243,5.255L639.6071,423.19266Z",transform:"translate(-338.64617 -190.05463)",fill:"#ffb7b7"})),C.createElement("polygon",{points:"294.88 222.439 292.312 195.37 305.108 188.432 305.945 189.977 294.17 196.361 296.551 221.455 322.712 239.371 321.72 240.82 294.88 222.439",opacity:.15,style:{isolation:"isolate"}}),C.createElement("rect",{x:673.23757,y:405.63369,width:1.75645,height:32.8255,transform:"translate(-404.56668 523.37055) rotate(-53.54095)",opacity:.15,style:{isolation:"isolate"}}),i||(i=C.createElement("polygon",{points:"321.218 248.065 188.403 154.698 54.232 247.195 186.402 303.007 321.218 248.065",fill:"#fff"})),o||(o=C.createElement("path",{d:"M564.774,358.87005l44.72349-43.72779,79.98666-5.404,99.42707,94.94445,72.44264,39.64481L840.94528,504.343,753.5081,462.83763c-17.80159-1.30756-29.25633-7.215-36.50041-13.42737a44.09751,44.09751,0,0,1-6.69437-7.16968,32.23633,32.23633,0,0,1-4.95146-9.24345L669.82367,387.33l-7.32688-9.42411-4.7454-6.09854L642.2399,351.87566l-1.11627-1.43272-26.35216-.69776-13.71473,18.005-9.63308,12.63516a21.41738,21.41738,0,0,1-4.59739,12.21273c-8.63871,10.50776-26.15458,8.45585-26.15458,8.45585Z",transform:"translate(-338.64617 -190.05463)",fill:"#ffb7b7"})),j||(j=C.createElement("path",{d:"M393.39006,437.164h.09566l54.85333,23.4226,75.05068,32.04721a2.42068,2.42068,0,0,0,1.85411.00955l77.4302-32.12366L658.875,437.20221l.08586-.03822h.09566a3.34843,3.34843,0,0,1,3.34472,3.34472V585.76517a3.34844,3.34844,0,0,1-3.34472,3.34472H393.39006a3.34844,3.34844,0,0,1-3.34472-3.34472V440.50871A3.34843,3.34843,0,0,1,393.39006,437.164Z",transform:"translate(-338.64617 -190.05463)",fill:"#fff"})),h||(h=C.createElement("path",{d:"M393.15159,438.11962a.47629.47629,0,0,0,.27274-.08562L525.569,346.00471a2.39647,2.39647,0,0,1,2.73718.00466l131.19272,92.0237a.47791.47791,0,0,0,.54886-.78252L528.85488,345.22686a3.3553,3.3553,0,0,0-3.8321-.0063l-132.1446,92.029a.47791.47791,0,0,0,.27344.87Z",transform:"translate(-338.64617 -190.05463)",fill:"#3f3d56"})),d||(d=C.createElement("polygon",{points:"313.356 251.327 188.162 158.543 62.019 257.929 181.712 328.885 246.695 314.073 313.356 251.327",fill:"#e6e6e6"})),b||(b=C.createElement("path",{d:"M579.8557,562.766h61.84883a2.88954,2.88954,0,0,0,.00854-5.77907H579.8557a2.88954,2.88954,0,0,0-.00855,5.77907Z",transform:"translate(-338.64617 -190.05463)",fill:"#6c63ff"})),u||(u=C.createElement("path",{d:"M619.51455,550.34279h22.19a2.88954,2.88954,0,0,0,.00854-5.77907H619.51455a2.88954,2.88954,0,0,0-.00855,5.77907Z",transform:"translate(-338.64617 -190.05463)",fill:"#6c63ff"})),x||(x=C.createElement("path",{d:"M525.04786,493.06129a3.61381,3.61381,0,0,0,1.37092-.26854l77.21089-32.03709V360.47424a3.34863,3.34863,0,0,0-3.34472-3.34472H452.16159a3.34863,3.34863,0,0,0-3.34472,3.34472V460.82566l.14512.06206,74.67342,31.88939A3.63912,3.63912,0,0,0,525.04786,493.06129Z",transform:"translate(-338.64617 -190.05463)",fill:"#fff"})),O||(O=C.createElement("path",{d:"M523.54162,492.99665,448.578,460.98337V360.47422a3.5877,3.5877,0,0,1,3.58363-3.58363H600.285a3.58769,3.58769,0,0,1,3.58363,3.58363v100.441l-77.3588,32.0987a3.8853,3.8853,0,0,1-2.96816-.01728ZM602.913,360.47422a2.63112,2.63112,0,0,0-2.628-2.628H452.16159a2.63111,2.63111,0,0,0-2.628,2.628V460.3525l74.38131,31.76459a2.92338,2.92338,0,0,0,2.23047.0133l76.7676-31.85348Z",transform:"translate(-338.64617 -190.05463)",fill:"#3f3d56"})),m||(m=C.createElement("path",{d:"M390.76216,440.50871V585.76517a3.34844,3.34844,0,0,0,3.34472,3.34472H659.77329a3.34843,3.34843,0,0,0,3.34472-3.34472V440.50871a3.34842,3.34842,0,0,0-3.34472-3.34472h-.09565l-.08586.03822-56.20093,23.31748-77.4302,32.12366a2.42068,2.42068,0,0,1-1.85411-.00955l-75.05067-32.04721L394.20253,437.164h-.09565A3.34843,3.34843,0,0,0,390.76216,440.50871Zm.95563,0a2.39683,2.39683,0,0,1,2.29343-2.38908l55.04465,23.50383L523.72905,493.513a3.40248,3.40248,0,0,0,2.5993.01434l77.0625-31.97554,56.4732-23.43217a2.39438,2.39438,0,0,1,2.29833,2.38909V585.76517a2.39,2.39,0,0,1-2.38909,2.38908H394.10688a2.39,2.39,0,0,1-2.38909-2.38908Z",transform:"translate(-338.64617 -190.05463)",fill:"#3f3d56"})),f||(f=C.createElement("path",{d:"M465.12865,394.615h52.5599a3.82254,3.82254,0,0,0,0-7.64508h-52.5599a3.82254,3.82254,0,0,0,0,7.64508Z",transform:"translate(-338.64617 -190.05463)",fill:"#6c63ff"})),p||(p=C.createElement("path",{d:"M465.16017,378.36925h25.32432a3.82254,3.82254,0,0,0,0-7.64508H465.16017a3.82254,3.82254,0,0,0,0,7.64508Z",transform:"translate(-338.64617 -190.05463)",fill:"#6c63ff"})),v||(v=C.createElement("path",{d:"M486.9125,432.84042h80.27331a3.82254,3.82254,0,1,0,0-7.64508H486.9125a3.82254,3.82254,0,0,0,0,7.64508Z",transform:"translate(-338.64617 -190.05463)",fill:"#ccc"})),g||(g=C.createElement("path",{d:"M486.9125,450.51966h80.27331a3.82254,3.82254,0,0,0,0-7.64508H486.9125a3.82254,3.82254,0,0,0,0,7.64508Z",transform:"translate(-338.64617 -190.05463)",fill:"#ccc"})),C.createElement("path",{d:"M673.196,377.28l15.94362-.92183L752.843,454.86658l-22.50573-3.44243-13.32953-2.01389a44.09751,44.09751,0,0,1-6.69437-7.16968l-14.81145-4.39729-6.816-5.03581C689.1135,434.44384,673.196,377.28,673.196,377.28Z",transform:"translate(-338.64617 -190.05463)",opacity:.1,style:{isolation:"isolate"}}),y||(y=C.createElement("path",{d:"M571.28277,374.78155A11.249,11.249,0,0,1,584.061,365.3861L601.05676,367.75l21.02662,2.92572,16.24962,2.25894,19.41836-1.12742,17.62627-1.02486,10.41342-.60085L755.03363,455.517l-59.53175-17.67377-6.816-5.03581-29.8425-22.042s-9.778-1.80157-25.19232-5.41249c-2.29336-.54479-28.241-7.05619-40.43033-10.59741-2.3612-.68783-4.47954-1.40743-6.39447-2.15748C573.23666,387.2487,570.51776,380.39112,571.28277,374.78155Z",transform:"translate(-338.64617 -190.05463)",fill:"#ffb7b7"})),C.createElement("path",{d:"M581.01687,385.44227c.06083-.007,6.127-.76264,8.71645-5.20513,1.74447-2.99275,1.569-7.02305-.52118-11.97829l1.61829-.68249c2.31931,5.49829,2.45841,10.05961.41334,13.5571-3.04169,5.20219-9.74316,6.02158-10.02693,6.05408Z",transform:"translate(-338.64617 -190.05463)",opacity:.15,style:{isolation:"isolate"}}),C.createElement("polygon",{points:"303.71 183.525 303.706 181.769 334.938 181.719 302.012 161.133 302.943 159.643 341.046 183.465 303.71 183.525",opacity:.15,style:{isolation:"isolate"}}))}var F=C.forwardRef(I);a.p;function D(){return Object(T.jsx)("section",{className:"bg-dark text-light p-5 text-center text-sm-start",children:Object(T.jsx)("div",{className:"container",children:Object(T.jsxs)("div",{className:"d-sm-flex align-items-center justify-content-between",children:[Object(T.jsxs)("div",{className:"mr-3",children:[Object(T.jsxs)("h1",{children:["Register for",Object(T.jsx)("span",{className:"text-warning",children:" The NZPMC 2022"})]}),Object(T.jsx)("p",{className:"lead my-4",children:"The NZPMC is a nationwide standardised Physics and Mathematics Competition for High School students of all year levels throughout New Zealand."})]}),Object(T.jsx)(F,{className:"img-fluid w-50 d-none d-sm-block"})]})})})}var P=a(79),R=a(7),_=a(18),z=a.n(_);function U(){var e=Object(C.useState)({}),t=Object(S.a)(e,2),a=t[0],n=t[1],c=Object(C.useState)(!1),r=Object(S.a)(c,2),l=r[0],s=r[1],i=Object(R.f)(),o=function(e){return function(t){var c=a;c[e]=t.target.value,n(c)}};function j(){return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(L.a,{children:[Object(T.jsx)(k.a,{children:Object(T.jsxs)(P.a.Group,{children:[Object(T.jsx)(P.a.Label,{children:"Name"}),Object(T.jsx)(P.a.Control,{onChange:o("name"),type:"text",placeholder:"Enter your full name"})]})}),Object(T.jsx)(k.a,{children:Object(T.jsxs)(P.a.Group,{children:[Object(T.jsx)(P.a.Label,{children:"Email"}),Object(T.jsx)(P.a.Control,{onChange:o("email"),type:"email",placeholder:"eg. contact.nzpmc@gmail.com"})]})})]}),Object(T.jsxs)(L.a,{children:[Object(T.jsx)(k.a,{children:Object(T.jsxs)(P.a.Group,{children:[Object(T.jsx)(P.a.Label,{children:"School Name"}),Object(T.jsx)(P.a.Control,{onChange:o("schoolName"),type:"text",placeholder:"Enter the school name"})]})}),Object(T.jsx)(k.a,{children:Object(T.jsxs)(P.a.Group,{children:[Object(T.jsx)(P.a.Label,{children:"School Address"}),Object(T.jsx)(P.a.Control,{onChange:o("schoolAddress"),type:"text",placeholder:"Enter the school address"})]})})]})]})}return Object(T.jsxs)(P.a,{className:"mt-5",children:[Object(T.jsx)("h3",{children:"Teacher Details"}),Object(T.jsx)(j,{}),Object(T.jsx)("p",{className:"my-3",children:"You will receive a confirmation email if you have been registered successfully. The email will contain a code that you can share with your students, which they will need to register themselves."}),l?Object(T.jsx)("span",{children:"Loading"}):Object(T.jsxs)("div",{children:[Object(T.jsx)(Z.a,{onClick:function(e){e.preventDefault(),s(!0),function(e){return z.a.post("/api/teachers",e).then((function(e){return e.data}))}(a).then((function(e){return i.push("/ThankYou")})).catch((function(e){e.response&&alert(e.response.data.error),s(!1)}))},variant:"primary",type:"submit",children:"Submit"}),Object(T.jsx)(H.b,{to:"/",children:Object(T.jsx)(Z.a,{className:"ml-3",variant:"secondary",children:"Back"})})]})]})}var J=a(41),q=function(e){return Object(J.a)(e),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:"mt-5 alert alert-primary",role:"alert",children:[Object(T.jsx)("strong",{children:"Important Note: "}),Object(T.jsx)("br",{}),"A teacher must register into the competition before the student registers. Student needs the email address of a registered teacher to register themselves.",Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),"After a student registers, the student will receive an email with information about fee payment."]}),Object(T.jsxs)("div",{className:"my-5 d-flex justify-content-center",children:[Object(T.jsx)(H.b,{to:"/teacher",children:Object(T.jsx)(Z.a,{variant:"primary",size:"lg",children:"I'm a Teacher"})}),Object(T.jsx)(H.b,{to:"/student",children:Object(T.jsx)(Z.a,{variant:"secondary",className:"ml-3",size:"lg",children:"I'm a Student"})})]})]})};var X=function(e){return z.a.post("/api/students",e).then((function(e){return e.data}))};function K(){var e=Object(C.useState)({}),t=Object(S.a)(e,2),a=t[0],n=t[1],c=Object(C.useState)(!1),r=Object(S.a)(c,2),l=r[0],s=r[1],i=Object(R.f)(),o=function(e){return function(t){var c=a;c[e]=t.target.value,n(c),console.log(a)}};function j(){return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(L.a,{children:Object(T.jsxs)(P.a.Group,{as:L.a,className:"my-3",children:[Object(T.jsx)(P.a.Label,{column:!0,sm:"2",children:"Teacher Code"}),Object(T.jsx)(k.a,{sm:"10",children:Object(T.jsx)(P.a.Control,{onChange:o("teacher"),type:"text",placeholder:"Enter the code given by your teacher (your teacher would have received this if they registered)"})})]})}),Object(T.jsxs)(L.a,{children:[Object(T.jsx)(k.a,{children:Object(T.jsxs)(P.a.Group,{children:[Object(T.jsx)(P.a.Label,{children:"Name"}),Object(T.jsx)(P.a.Control,{onChange:o("name"),type:"text",placeholder:"Enter your full name"})]})}),Object(T.jsx)(k.a,{children:Object(T.jsxs)(P.a.Group,{children:[Object(T.jsx)(P.a.Label,{children:"Email"}),Object(T.jsx)(P.a.Control,{onChange:o("email"),type:"email",placeholder:"eg. student.nzpmc@gmail.com"})]})}),Object(T.jsx)(P.a.Group,{as:k.a,children:Object(T.jsxs)("div",{children:[Object(T.jsx)(P.a.Label,{children:"Year Level"}),Object(T.jsxs)("select",{onChange:o("yearLevel"),className:"form-select","aria-label":"select example",children:[Object(T.jsx)("option",{value:null,children:"Select Year"}),Object(T.jsx)("option",{value:"8",children:"Below Year 9"}),Object(T.jsx)("option",{value:"9",children:"Year 9"}),Object(T.jsx)("option",{value:"10",children:"Year 10"}),Object(T.jsx)("option",{value:"11",children:"Year 11"}),Object(T.jsx)("option",{value:"12",children:"Year 12"}),Object(T.jsx)("option",{value:"13",children:"Year 13"})]})]})})]})]})}return Object(T.jsxs)(P.a,{className:"mt-5",children:[Object(T.jsx)("h3",{children:"Student Details"}),Object(T.jsx)(j,{}),Object(T.jsx)("p",{className:"my-3",children:"After submitting, you will shortly receive a confirmation email with your details and information about payment."}),l?Object(T.jsx)("div",{children:"Loading"}):Object(T.jsxs)("div",{children:[Object(T.jsx)(Z.a,{onClick:function(e){e.preventDefault(),s(!0),X(a).then((function(e){return i.push("/ThankYou")})).catch((function(e){e.response&&alert(e.response.data.error),s(!1)}))},children:"Submit"}),Object(T.jsx)(H.b,{to:"/",children:Object(T.jsx)(Z.a,{variant:"secondary",className:"ml-3",children:"Back"})})]})]})}var Q=a(78),W=a(81),$=function(e){var t=e.props,a=t.email,n=t.name,c=t.yearLevel,r=t._id,l=Object(C.useState)(!1),s=Object(S.a)(l,2),i=s[0],o=s[1],j=Object(C.useState)({email:a,name:n,yearLevel:c}),h=Object(S.a)(j,2),d=h[0],b=h[1],u=Object(C.useState)(!1),x=Object(S.a)(u,2),O=x[0],m=x[1],f=Object(R.f)(),p=function(){return o(!1)},v=function(e){return function(t){var a=d;a[e]=t.target.value,b(a)}},g=function(){m(!0),function(e,t){return z.a.put("/api/students/"+encodeURI(e.toString()),t).then((function(e){return e.data}))}(r,d).then((function(e){m(!1),p(),f.push("/"),f.push("/Dashboard")})).catch((function(e){e.response&&alert(e.response.data.error),m(!1)}))};return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(L.a,{className:"py-2 align-items-center",children:[Object(T.jsx)(k.a,{xs:2,children:n}),Object(T.jsx)(k.a,{xs:3,children:a}),Object(T.jsx)(k.a,{xs:2,children:8==c?"Year 8 or below":"Year "+c}),Object(T.jsx)(k.a,{xs:3}),Object(T.jsxs)(k.a,{xs:2,children:[Object(T.jsx)(Z.a,{onClick:function(){return o(!0)},variant:"outline-info",children:"Edit"}),Object(T.jsx)(Z.a,{onClick:function(){var e;console.log("lol"),window.confirm("Are you sure you want to delete record for "+n+"? This action cannot be undone.")&&(e=r.toString(),z.a.delete("/api/students/"+encodeURI(e.toString())).then((function(e){return e.data}))).then((function(e){f.push("/"),f.push("/Dashboard")})).catch((function(e){e.response&&alert(e.response.data.error),m(!1)}))},className:"ml-3",variant:"outline-danger",children:"X"})]}),Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(Q.a,{show:i,onHide:p,children:[Object(T.jsx)(Q.a.Header,{closeButton:!0,children:Object(T.jsxs)(Q.a.Title,{children:["Edit ",n,"'s detail"]})}),Object(T.jsx)(Q.a.Body,{children:Object(T.jsxs)(w.a,{children:[Object(T.jsx)("h5",{children:"Original details:"}),Object(T.jsxs)(L.a,{className:"my-3",children:[Object(T.jsx)(k.a,{children:n}),Object(T.jsx)(k.a,{children:a}),Object(T.jsx)(k.a,{children:c})]}),Object(T.jsx)("h5",{children:"New Details:"}),Object(T.jsxs)(L.a,{children:[Object(T.jsxs)(P.a.Group,{as:L.a,children:[Object(T.jsx)(P.a.Label,{column:!0,xs:2,children:"Name"}),Object(T.jsx)(k.a,{xs:10,children:Object(T.jsx)(P.a.Control,{onChange:v("name")})})]}),Object(T.jsxs)(P.a.Group,{as:L.a,children:[Object(T.jsx)(P.a.Label,{column:!0,xs:2,children:"Email"}),Object(T.jsx)(k.a,{xs:10,children:Object(T.jsx)(P.a.Control,{onChange:v("email")})})]}),Object(T.jsx)(P.a.Group,{as:k.a,children:Object(T.jsxs)("div",{children:[Object(T.jsx)(P.a.Label,{children:"Year Level"}),Object(T.jsxs)("select",{onChange:v("yearLevel"),className:"form-select","aria-label":"select example",children:[Object(T.jsx)("option",{value:null,children:"Select Year"}),Object(T.jsx)("option",{value:"8",children:"Below Year 9"}),Object(T.jsx)("option",{value:"9",children:"Year 9"}),Object(T.jsx)("option",{value:"10",children:"Year 10"}),Object(T.jsx)("option",{value:"11",children:"Year 11"}),Object(T.jsx)("option",{value:"12",children:"Year 12"}),Object(T.jsx)("option",{value:"13",children:"Year 13"})]})]})})]})]})}),Object(T.jsxs)(Q.a.Footer,{children:[Object(T.jsx)(Z.a,{variant:"secondary",onClick:p,children:"Close"}),O?"loading":Object(T.jsx)(Z.a,{variant:"primary",onClick:g,children:"Save Changes"})]})]})})]})})},ee=function(e){var t=e.props,a=t.email,n=t.name,c=t.schoolAddress,r=t.schoolName,l=t.students,s=t._id,i=Object(C.useState)(!1),o=Object(S.a)(i,2),j=o[0],h=o[1],d=Object(C.useState)({teacher:s}),b=Object(S.a)(d,2),u=b[0],x=b[1],O=Object(C.useState)(!1),m=Object(S.a)(O,2),f=m[0],p=m[1],v=Object(R.f)(),g=function(){return h(!1)},y=function(e){return function(t){var a=u;a[e]=t.target.value,x(a)}},N=function(){p(!0),X(u).then((function(e){p(!1),g(),v.push("/"),v.push("/Dashboard")})).catch((function(e){e.response&&alert(e.response.data.error),p(!1)}))};return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(w.a,{className:"my-3",children:Object(T.jsxs)(W.a,{children:[Object(T.jsx)(W.a.Header,{children:Object(T.jsx)(w.a,{children:Object(T.jsxs)(L.a,{children:[Object(T.jsxs)(k.a,{xs:7,children:[Object(T.jsx)(L.a,{children:"Teacher: "+n+"("+a+")"}),Object(T.jsx)(L.a,{children:"School: "+r+"("+c+")"})]}),Object(T.jsxs)(k.a,{xs:3,children:[Object(T.jsx)(Z.a,{onClick:function(){return h(!0)},variant:"outline-primary",children:"Add Student"}),Object(T.jsx)(Z.a,{className:"ml-2",onClick:function(){var e="StudentName,StudentEmail,StudentYearLevel,TeacherName,TeacherEmail,SchoolName,SchoolAddress\n";l.forEach((function(t){var l=[t.name,t.email,t.yearLevel,n,a,r,c];e+=l.join(","),e+="\n"}));var t=document.createElement("a");t.href="data:text/csv;charset=utf-8,"+encodeURI(e),t.target="_blank",t.download="".concat(r,"_").concat(n,"_registration.csv"),t.click()},children:"CSV"})]}),Object(T.jsx)(k.a,{xs:2,children:l.length+" students"})]})})}),Object(T.jsx)(W.a.Body,{children:l.map((function(e){return Object(T.jsx)($,{props:e},e._id.toString())}))})]})}),Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(Q.a,{show:j,onHide:g,children:[Object(T.jsx)(Q.a.Header,{closeButton:!0,children:Object(T.jsxs)(Q.a.Title,{children:["Edit ",n,"'s detail"]})}),Object(T.jsx)(Q.a.Body,{children:Object(T.jsxs)(w.a,{children:[Object(T.jsx)("h5",{children:"New Student"}),Object(T.jsxs)(L.a,{children:[Object(T.jsxs)(P.a.Group,{as:L.a,children:[Object(T.jsx)(P.a.Label,{column:!0,xs:2,children:"Name"}),Object(T.jsx)(k.a,{xs:10,children:Object(T.jsx)(P.a.Control,{onChange:y("name")})})]}),Object(T.jsxs)(P.a.Group,{as:L.a,children:[Object(T.jsx)(P.a.Label,{column:!0,xs:2,children:"Email"}),Object(T.jsx)(k.a,{xs:10,children:Object(T.jsx)(P.a.Control,{onChange:y("email")})})]}),Object(T.jsx)(P.a.Group,{as:k.a,children:Object(T.jsxs)("div",{children:[Object(T.jsx)(P.a.Label,{children:"Year Level"}),Object(T.jsxs)("select",{onChange:y("yearLevel"),className:"form-select","aria-label":"select example",children:[Object(T.jsx)("option",{value:null,children:"Select Year"}),Object(T.jsx)("option",{value:"8",children:"Below Year 9"}),Object(T.jsx)("option",{value:"9",children:"Year 9"}),Object(T.jsx)("option",{value:"10",children:"Year 10"}),Object(T.jsx)("option",{value:"11",children:"Year 11"}),Object(T.jsx)("option",{value:"12",children:"Year 12"}),Object(T.jsx)("option",{value:"13",children:"Year 13"})]})]})})]})]})}),Object(T.jsxs)(Q.a.Footer,{children:[Object(T.jsx)(Z.a,{variant:"secondary",onClick:g,children:"Close"}),f?"loading":Object(T.jsx)(Z.a,{variant:"primary",onClick:N,children:"Save Changes"})]})]})})]})},te=function(){var e=Object(C.useState)([]),t=Object(S.a)(e,2),a=t[0],n=t[1],c=Object(R.f)();Object(C.useEffect)((function(){z.a.get("/api/teachers").then((function(e){return e.data})).then((function(e){console.log(e),n(e)})).catch((function(e){console.log(e)}))}),[]);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(Z.a,{onClick:function(){var e="StudentName,StudentEmail,StudentYearLevel,TeacherName,TeacherEmail,SchoolName,SchoolAddress\n";a.forEach((function(t){t.students.forEach((function(a){var n=[a.name,a.email,a.yearLevel,t.name,t.email,t.schoolName,t.schoolAddress];e+=n.join(","),e+="\n"}))}));var t=document.createElement("a");t.href="data:text/csv;charset=utf-8,"+encodeURI(e),t.target="_blank",t.download="people.csv",t.click()},children:"Generate CSV for all students"}),Object(T.jsxs)(Z.a,{className:"ml-3",onClick:function(){c.go(0)},variant:"success",children:["Refresh (last update at ",(new Date).getTime()]}),Object(T.jsx)(T.Fragment,{children:a.map((function(e){return Object(T.jsx)(ee,{props:e},e._id.toString())}))})]})},ae=function(){var e=Object(R.f)(),t=Object(C.useState)(""),a=Object(S.a)(t,2),n=a[0],c=a[1];return Object(T.jsx)("section",{className:"bg-primary text-light p-5",children:Object(T.jsx)(w.a,{children:Object(T.jsxs)(L.a,{className:"align-items-center",children:[Object(T.jsxs)(k.a,{xs:4,children:[Object(T.jsx)("h3",{children:"Teachers:"}),Object(T.jsx)("p",{children:"You can receive csv of your students' details by entering your teacher code into this box."})]}),Object(T.jsx)(k.a,{xs:8,children:Object(T.jsxs)(Y.a,{className:"mb-3",children:[Object(T.jsx)(M.a,{onChange:function(e){return c(e.target.value)}}),Object(T.jsx)(Z.a,{onClick:function(){var t;"NZPMCforever!"===n?e.push("/Dashboard"):(t=n,z.a.get("/api/mail/"+encodeURI(t)).then((function(e){return e.data}))).then((function(e){console.log(e),alert("Check your inbox!")})).catch((function(e){alert("Make sure that you have input a valid teacher code")}))},variant:"dark",children:"Email me!"})]})})]})})})},ne=function(){return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(A,{}),Object(T.jsx)(D,{}),Object(T.jsx)(R.c,{children:Object(T.jsx)(R.a,{exact:!0,path:"/",children:Object(T.jsx)(ae,{})})}),Object(T.jsx)(w.a,{className:"my-3",children:Object(T.jsxs)(R.c,{children:[Object(T.jsx)(R.a,{path:"/student",children:Object(T.jsx)(K,{})}),Object(T.jsx)(R.a,{path:"/teacher",children:Object(T.jsx)(U,{})}),Object(T.jsx)(R.a,{path:"/ThankYou",children:Object(T.jsxs)(w.a,{children:[Object(T.jsx)("h1",{children:"Thank you for signing up."}),Object(T.jsx)("p",{children:"Confirmation details are sent to your email. If you have any queries or issues, please email contact.nzpmc@gmail.com."}),Object(T.jsx)(H.b,{to:"/",children:Object(T.jsx)(Z.a,{children:"Back to Main Menu"})})]})}),Object(T.jsx)(R.a,{path:"/Dashboard",children:Object(T.jsx)(te,{})}),Object(T.jsx)(R.a,{path:"/",children:Object(T.jsx)(q,{})})]})})]})};a(72);E.a.render(Object(T.jsx)(H.a,{children:Object(T.jsx)(ne,{})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.3cce1b85.chunk.js.map